global:
  dev: true
  hostname: fairtox.com
  dictionaryUrl: "https://raw.githubusercontent.com/naultran/toxdatacommons/main/custom_configs/schema.json"
  tierAccessLevel: "libre"
  tierAccessLimit: '"1000"'

portal:
 image:
   repository: test_portal13
   pullPolicy: IfNotPresent
   tag: "master"

revproxy:
  ingress:
    # Enable the custom ingress resource included by helm. Add any configurations as needed.
    enabled: true
    # Any annotations that needs to be passed to the ingress resource
    annotations:
    hosts:
    # Replace with your hostname
    - host: fairtox.com
      paths:
        - path: /
          pathType: Prefix
    tls:
      # this is the secret generated by the cert and key from global.tls
      # if you have your own secret, reference that. 
      - secretName: fairtox-cert
        hosts:
        # Replace with your hostname
          - fairtox.com
hatchery:
  hatchery:
    containers:
      - target-port: 8888
        cpu-limit: '0.1'
        memory-limit: 256Mi
        name: "(Tutorials) Example Analysis Jupyter Lab Notebooks"
        image: quay.io/cdis/heal-notebooks:combined_tutorials__latest
        env:
          FRAME_ANCESTORS: https://{{ .Values.global.hostname }}
        args:
        - "--NotebookApp.base_url=/lw-workspace/proxy/"
        - "--NotebookApp.default_url=/lab"
        - "--NotebookApp.password=''"
        - "--NotebookApp.token=''"
        - "--NotebookApp.shutdown_no_activity_timeout=5400"
        - "--NotebookApp.quit_button=False"
        command:
        - start-notebook.sh
        path-rewrite: "/lw-workspace/proxy/"
        use-tls: 'false'
        ready-probe: "/lw-workspace/proxy/"
        lifecycle-post-start:
        - "/bin/sh"
        - "-c"
        - export IAM=`whoami`; rm -rf /home/$IAM/pd/dockerHome; rm -rf /home/$IAM/pd/lost+found;
          ln -s /data /home/$IAM/pd/; true
        user-uid: 1000
        fs-gid: 100
        user-volume-location: "/home/jovyan/pd"
        gen3-volume-location: "/home/jovyan/.gen3"
